#include "buzzer.h"

extern TIM_HandleTypeDef htim6;
extern TIM_HandleTypeDef htim3;

int currentNote= 0;
int indexNote =0;

void playNote(int indexNote)
{
	currentNote = indexNote;
	__HAL_TIM_SET_COUNTER(&htim3,0);
	__HAL_TIM_SET_AUTORELOAD(&htim3, noteJonatan[currentNote]);
	__HAL_TIM_SET_COMPARE(&htim3, TIM_CHANNEL_1, (noteJonatan[currentNote]/2));

	__HAL_TIM_SET_COUNTER(&htim6,0);
	__HAL_TIM_SET_AUTORELOAD(&htim6, periodeJonatan[currentNote]);

}


void playNextNote()
{
	currentNote++;
	if(currentNote>=22)
	{
	   currentNote= 0;
	}
	playNote(currentNote);
}


